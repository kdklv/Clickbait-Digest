<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clickbait Resolver</title>
    <style>
       body {
            font-family: sans-serif;
            margin: 20px;
            width: 400px; /* Set a fixed width */
        }

        label {
            display: block;
            margin-bottom: 5px;
        }

        input[type="text"], input[type="password"] { /* Style both text and password inputs */
            width: 100%;
            padding: 8px;
            margin-bottom: 10px;
            box-sizing: border-box;
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        button {
            padding: 10px 15px;
            margin-right: 5px;
            background-color: #4285f4;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        button:hover {
            background-color: #2c65c8;
        }

        #summary {
            width: 100%;
            height: 200px;
            margin-top: 10px;
            padding: 8px;
            box-sizing: border-box;
            border: 1px solid #ccc;
            border-radius: 4px;
            resize: none; /* Prevent user resizing */
        }
        .temp-buttons {
            margin-bottom: 10px;
            display: flex; /* Use flexbox for layout */
            justify-content: space-between; /* Space buttons evenly */
        }

        .temp-buttons button {
            background-color: #eee;
            color: #333;
            flex: 1; /* Make buttons take equal width */
        }

        .temp-buttons button.selected {
            background-color: #4285f4;
            color: white;
        }
        #error, #success-message { /* Style both error and success */
            margin-top: 10px;
            font-weight: bold;
        }

        #error{
            color: red;
        }

        #success-message {
            color: green;
        }

        /*Loading animation*/
        #summary.loading {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .button-container {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 1rem;
        }

        .icon-button {
          background: none;
          border: none;
          font-size: 1.2rem;
          color: var(--icon-color);
          cursor: pointer;
          padding: 0;
          transition: color 0.2s ease;
        }

        .icon-button:hover {
          color: var(--icon-hover-color);
        }
        .slider-container {
          display: flex;
          align-items: center;
          margin-bottom: 10px;
        }
        input[type="range"] {
          width: 70%; /* Adjust width as needed */
        }
          #skepticismValue, #lengthValue {
          margin-left: 0.5rem;
          font-weight: bold;
           white-space: nowrap; /* Prevent wrapping */

        }
         .hidden {
          display: none;
        }

        :root {
          --primary-color: #4285f4;
          --secondary-color: #f1f3f4;
          --text-color: #333;
          --button-bg: var(--primary-color);
          --button-text: #fff;
          --button-hover-bg: #2c65c8;
          --button-active-bg: #1a4587;
          --border-radius: 8px;
          --pill-radius: 20px;
          --success-color: #4CAF50;
          --error-color: #f44336;
          --loading-spinner-color: var(--primary-color);
          --icon-color: var(--primary-color); /* Color for the icons */
          --icon-hover-color: var(--button-hover-bg);
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
</head>
<body>
    <h2>Clickbait Resolver</h2>
    <div class="button-container">
        <button id="refreshBtn" class="icon-button" title="Refresh"><i class="fas fa-sync-alt"></i></button>
        <button id="settingsBtn" class="icon-button" title="Settings"><i class="fas fa-cog"></i></button>
    </div>

    <div id="settings" class="">  <!-- settings div -->
        <h3>Settings</h3>
        <label for="apiKey">Gemini API Key:</label>
        <input type="password" id="apiKey" placeholder="Enter your Gemini API key">
        <button id="saveApiKeyBtn">Save API Key</button>
         <button id="closeSettingsBtn">Close</button>
        <div id="success-message" class = "hidden">API Key saved successfully!</div>
    </div>

    <div class = "hidden" id = "main"> <!-- main div -->
        <div class="temp-buttons">
            <button data-temp="0.2">Low Skepticism</button>
            <button data-temp="0.5" class="selected">Medium Skepticism</button>
            <button data-temp="0.8">High Skepticism</button>
        </div>
        <div class="slider-container">
            <label for="length">Summary Length:</label>
            <input type="range" id="length" min="100" max="400" step="1" value="250">
            <span id="lengthValue">250 words</span>
        </div>

        <textarea id="summary" placeholder="Loading..."></textarea>
    </div>
    <div id="error"></div>

    <script src="popup.js"></script>
</body>
</html>